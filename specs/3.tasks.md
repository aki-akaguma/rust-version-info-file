# Development Tasks

This file lists the development tasks based on the design document. Since the design was derived from existing code, all tasks are marked as complete.

### Core Function: `rust_version_info_file`

- [x] Create the public function `rust_version_info_file` with a generic `AsRef<Path>` argument for the destination.
- [x] Orchestrate the process: call file reader, call version/tree info helpers, and call file writer.
- [x] Implement the comparison logic to only write to the file when content has changed.
- [x] Implement the file write logic to handle both file creation and overwriting/truncation.

### Helper Function: `rustc_version_info`

- [x] Implement the function to execute `rustc --version`.
- [x] Add logic to check for and use the `RUSTC` environment variable, with a fallback to `"rustc"`.
- [x] Capture and process the `stdout` from the command, including trimming the trailing newline.

### Helper Function: `tree_version_info`

- [x] Implement the function to execute `cargo tree`.
- [x] Pass the `--color never` and `--manifest-path` arguments to the `cargo tree` command.
- [x] Process the `stdout` string to remove the local path information from the root crate line.

### Utility Function: `read_file`

- [x] Implement a helper function to read file contents into a string.
- [x] Ensure the function returns an empty string if the file does not exist or an error occurs, to support the comparison logic.

### Documentation

- [x] Add crate-level documentation (`lib.rs`) explaining the purpose, usage, and providing examples.
- [x] Add doc comments for the public `rust_version_info_file` function.
